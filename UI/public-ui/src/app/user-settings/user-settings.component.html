<div class="container mt-2">
    <div class="card">
        <div class="card-body p-4">
            <h5 class="mb-3">User Settings</h5>

            <div>
                <div class="mb-3">
                    <label class="form-label  fw-bold">Display Name (optional)</label>
                    <input class="form-control form-control-sm" style="max-width: 200px;"
                        placeholder="ex: AmazingBurgersDude" [(ngModel)]="entity.displayName"
                        [class.is-invalid]="errors['DisplayName']" maxlength="75">
                    <app-control-validation-errors [errors]="errors" fieldName="DisplayName">
                    </app-control-validation-errors>
                    <div class="form-text">Enter an optional display name for your profile.</div>
                </div>

                <div class="mb-3">
                    <label class="form-label  fw-bold">About (optional)</label>
                    <textarea class="form-control form-control-sm" style="max-width: 500px;"
                        placeholder="ex: I am but a simple burger farmer..." [(ngModel)]="entity.about"
                        [class.is-invalid]="errors['About']" maxlength="4000"></textarea>
                    <app-control-validation-errors [errors]="errors" fieldName="About">
                    </app-control-validation-errors>
                    <div class="form-text">A brief description of yourself shown on your profile.</div>
                </div>

                <div class="mb-3">
                    <label class="form-label  fw-bold">Avatar (optional)</label>
                    <input class="form-control form-control-sm" style="max-width: 200px;" type="file">
                    <div class="form-text">Images must be .png or .jpg format</div>
                </div>

                <div class="mb-5">
                    <button class="btn btn-sm btn-outline-primary" [disabled]="isSaving" (click)="save()">
                        Save

                        <i class="fa fa-spin fa-spinner" *ngIf="isSaving"></i>
                    </button>
                </div>

                <div class="mb-3 d-flex gap-3 align-items-center">
                    <div>
                        <button class="btn btn-sm btn-outline-secondary"
                            (click)="showChangeUserName = true">Change</button>
                    </div>
                    <div class="flex-grow-1">
                        <label class="form-label fw-bold m-0">User Name</label>
                        <div class="ts-5 text-muted">User name must be unique and can only contain letters and numbers.
                        </div>
                    </div>
                </div>

                <div class="mb-3 d-flex gap-3 align-items-center">
                    <div>
                        <button class="btn btn-sm btn-outline-secondary"
                            (click)="showChangeEmail = true">Change</button>
                    </div>
                    <div class="flex-grow-1">
                        <label class="form-label  fw-bold m-0">Email</label>
                        <div class="ts-5 text-muted">email@email.com</div>
                    </div>
                </div>

                <div class="mb-5 d-flex gap-3 align-items-center">
                    <div>
                        <button class="btn btn-sm btn-outline-secondary"
                            (click)="showChangePassword = true">Change</button>
                    </div>
                    <div class="flex-grow-1">
                        <label class="form-label fw-bold m-0">Password</label>
                        <div class="ts-5 text-muted">Password must be at least 8 characters long.</div>
                    </div>
                </div>

                <div>
                    <div style="max-width: 500px;">
                        <label class="form-label  fw-bold">People You've Blocked</label>
                        <app-add-remove-strings emptyMessage="You haven't blocked anyone.">
                        </app-add-remove-strings>
                        <div class="form-text">Blocked people can't send you chat requests or private messages.</div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<app-change-user-name [show]="showChangeUserName" (onCancel)="showChangeUserName = false" (onUpdate)="showChangeUserName = false"></app-change-user-name>

<app-change-email [show]="showChangeEmail" (onCancel)="showChangeEmail = false" (onUpdate)="showChangeEmail = false"></app-change-email>

<app-change-password [show]="showChangePassword" (onCancel)="showChangePassword = false" (onUpdate)="showChangePassword = false"></app-change-password>
